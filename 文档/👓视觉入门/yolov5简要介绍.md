---
title: yolov5ç®€è¦ä»‹ç»
---
# yolov5ç®€è¦ä»‹ç»

é¡µé¢å¤§çº²ï¼š
[[toc]]

## ä»€ä¹ˆæ˜¯yolo

**yolo**ï¼ˆyou only look onceï¼‰æ˜¯ä¸€ç§one-stageç±»åˆ«çš„ç›®æ ‡ç®—æ³•ï¼Œå¯ä»¥ç›´æ¥å›å½’äºç‰©ä½“çš„ä½ç½®åæ ‡å’Œç±»åˆ«æ¦‚ç‡ï¼Œé€Ÿåº¦ç›¸æ¯”two-stageè¦å¿«ã€‚å› ä¸ºç›´æ¥é€šè¿‡ä¸»å¹²ç½‘ç»œç»™å‡ºç±»åˆ«å’Œä½ç½®ä¿¡æ¯ï¼Œæ²¡æœ‰ä½¿ç”¨RPNç½‘è·¯ï¼Œæ‰€ä»¥å‡†ç¡®åº¦è¦ä½ã€‚æ¯”è¾ƒç»å…¸çš„one-stageæ£€æµ‹ç®—æ³•åŒ…æ‹¬YOLOï¼ŒSSDç­‰ã€‚

yoloäº16å¹´è¢«æå‡ºï¼Œè¿™æ˜¯å‘è¡¨åœ¨è®¡ç®—æœºè§†è§‰é¡¶ä¼šä¸Šå›½å†…é•œåƒåŸæ–‡ç½‘å€ï¼Œæœ‰å…´è¶£çš„å¯ä»¥çœ‹ä¸€ä¸‹ï¼š

<http://xxx.itp.ac.cn/pdf/1506.02640v5>

>å½“ç„¶æœ‰one-stageè‡ªç„¶ä¹Ÿæœ‰two-stageç±»åˆ«çš„ç›®æ ‡ç®—æ³•ã€‚  
two-stageçš„ç®—æ³•æ˜¯å…ˆé€šè¿‡å¯¹ç‰©ä½“æ¡†å®šå€™é€‰æ¡†ï¼Œå†å¯¹æ¯ä¸ªå€™é€‰æ¡†è¿›è¡Œåˆ†ç±»ã€ä¿®æ­£ä½ç½®ã€‚è¿™ç§ç®—æ³•é€Ÿåº¦è¾ƒæ…¢ï¼Œå› ä¸ºå®ƒéœ€è¦å¤šæ¬¡è¿è¡Œæ£€æµ‹å’Œè¿›è¡Œåˆ†ç±»ã€‚

## yolov5ç®€å•æ“ä½œ

æ¥ä¸‹æ¥æ˜¯è®²è§£å¦‚ä½•ç”¨`yolov5`è·‘é€šè‡ªå·±çš„æ¨¡å‹ï¼

é¦–å…ˆä½ éœ€è¦ç¡®ä¿ä½ èƒ½è®¿é—®è°·æ­Œï¼Œå¹¶ä¸”ä½ è¿˜è¦æœ‰ä¸€ä¸ªGoogleé‚®ç®±è´¦å·ã€‚***å› ä¸ºæœ¬æ•™ç¨‹æ˜¯åŸºäºè°·æ­Œçš„colabæ¥è¿›è¡Œçš„***ã€‚

>****colab****  
è¿™é‡Œä»‹ç»ä¸€ä¸‹colabã€‚colabæ˜¯Googleæä¾›çš„ä¸€ä¸ªåœ¨çº¿å·¥ä½œå¹³å°ï¼Œcolabçš„pyä»£ç çš„è¿è¡Œæ˜¯åŸºäº**jupyter**çš„ï¼Œåœ¨å­¦CVçš„æ•™ç¨‹ä¸­æœ‰å¾ˆå¤šæ•™ç¨‹æ˜¯åœ¨jupyterä¸Šè¿›è¡Œçš„,èƒ½å¤Ÿåˆ†å—æ‰§è¡Œä»£ç ï¼Œå¹¶èƒ½æ·»åŠ æ³¨é‡Šï¼ˆä½ ä»¬åˆšåˆšå¼€å§‹å­¦CVæ—¶çœ‹åˆ°è®¸å¤šæ•™ç¨‹åº”è¯¥æœ‰è¿™ç§ä½“ä¼šï¼‰ã€‚  
å½“ä½ åœ¨è¿è¡Œç¨‹åºæ—¶colabä¼šåˆ›å»ºä¸€ä¸ªè™šæ‹Ÿæœºï¼Œ**ä¹Ÿå°±æ˜¯è¿æ¥ä½ çš„ä»£ç æ—¶colabéœ€è¦åˆ†é…å®ä¾‹ç©ºé—´**ï¼Œåœ¨è¿™ä¸Šé¢è¿è¡Œä»£ç å¹¶åœ¨è¿è¡Œç»“æŸåå›ä¼ è‡³ä½ çš„ç”µè„‘ã€‚åœ¨æ¥è§¦æ·±åº¦å­¦ä¹ åï¼Œä½ ä¼šçŸ¥é“GPUè¿è¡Œé€Ÿåº¦ä¼šè¿œè¶…CPUï¼Œæ²¡æœ‰ä¸€ä¸ªå¥½çš„æ˜¾å¡ã€ç®—åŠ›ä¸è¶³ç­‰æƒ…å†µåœ¨è·‘æ¨¡å‹æ—¶ä¼šå¾ˆç—›è‹¦ã€‚æ‰€ä»¥ä½¿ç”¨colabçš„å¥½å¤„æ˜¯å¯ä»¥ç™½å«–Googleçš„ç®—åŠ›ï¼ï¼

### ç¬¬ä¸€æ­¥

é¦–å…ˆå°†é¢„è¯†åˆ«ç‰©ä½“è¿›è¡Œæ‹ç…§ï¼Œæé«˜è¯†åˆ«ç‰©ä½“çš„å‡†ç¡®ç‡ï¼Œå»ºè®®å¤§å®¶å¤šä¸ªè§’åº¦æ‹æ‘„ã€‚æ•´ä¸ªç…§ç‰‡é›†æœ€å¥½æœ‰**40å¼ ä»¥ä¸Š**

åœ¨æ¡Œé¢ä¸Šæ–°å»ºä¸€ä¸ªå¦‚ä¸‹è§„æ ¼çš„æ–‡ä»¶å¤¹ã€‚

![](/assets/pics/yolo1.11.png)

å°†æ‹æ‘„å¥½çš„ç…§ç‰‡æŒ‰ä¸€å®šæ•°é‡æ”¾å…¥`images/trainå’Œimages/val`ä¸­ã€‚

**æ³¨æ„ï¼šä¸¤ä¸ªæ–‡ä»¶å¤¹çš„ç…§ç‰‡æ•°é‡ä¸€å®šä¸º2çš„å€æ•°ï¼**

### ç¬¬äºŒæ­¥

![](/assets/pics/yolo1.123.png)

æŒ‰å›¾ç‰‡ç‚¹è¿›è¿™ä¸ª [ç½‘å€](https://www.makesense.ai)

![](/assets/pics/yolo112.png)

ç‚¹å‡»`get started`

![](/assets/pics/yolo214.png)

`ç‚¹å‡»Drop images,ä¸Šä¼ å›¾ç‰‡`,ç„¶å`ç‚¹å‡»object detection`

![](/assets/pics/yolo234423.png)

ç‚¹å‡»`+`æ·»åŠ æ ‡ç­¾ï¼Œè¾“å…¥æ ‡ç­¾ååç‚¹å‡»`start porject`

![](/assets/pics/yolo23113232.png)

é€‰å‡ºè¯†åˆ«åŒºåŸŸ

![](/assets/pics/yolo23442355.png)

ç‚¹å‡»`Actions--Export Annotatons`

![](/assets/pics/yolo234232344.png)

æ ¹æ®å›¾ç‰‡èµ°

![](/assets/pics/vscode/yolo234764528.png)

å°†æ–‡ä»¶è§£å‹åæ”¾å…¥labelsä¸­ï¼Œ**æ ‡ç­¾è¦ä¸å›¾ç‰‡æ‰€åœ¨çš„æ–‡ä»¶å¤¹å¯¹åº”**

æˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ª`yamlæ–‡ä»¶`ï¼Œ**æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹ï¼**ï¼Œå»ºè®®ç”¨[VSCode](/æ–‡æ¡£/ğŸ‘‹ç¯å¢ƒé…ç½®/Visual%20Studio%20Code%20Cè¯­è¨€%20å®‰è£…é…ç½®.md)æ‰“å¼€ã€‚

```yaml
train: ../traindata/images/train/  # train images (relative to 'path') 128 images
val: ../traindata/images/val/  # val images (relative to 'path') 128 images
test:  # test images (optional)

# Classes
nc: 1  # number of classes
names: ['car']  # class names


# Downloacsyd script/URL (optional)
download: https://ultralytics.com/assets/coco128.zip
```

`train/val`åé¢çš„åœ°å€é¡»ä¸ä½ è‡ªå·±åˆ›å»ºçš„æ–‡ä»¶å¤¹å¯¹åº”

`nc`ä¸ºè¯†åˆ«ç§ç±»æ•°

`names`ä¸ºæ‰€æœ‰ç§ç±»çš„åç§°ï¼Œ****æ³¨æ„**`names`çš„é¡ºåºè¦ä¸`makesence`é‡Œçš„é¡ºåºä¸€è‡´ï¼**

![](/assets/pics/yolo23425.png)

å°†æ–‡ä»¶å¤¹å‹ç¼©ã€‚

### ç¬¬ä¸‰æ­¥

åœ¨GitHubæœç´¢yolov5ï¼Œå¦‚å›¾

![](/assets/pics/yolo1.png)

è¿›å…¥ä»“åº“é¡µé¢

![](/assets/pics/yolo2.png)

ç‚¹å‡»`open in colab`

![](/assets/pics/yolo3.png)

è¿›å…¥åcolabä¸»ç•Œé¢

![](/assets/pics/yolo4.png)

ç‚¹å‡»è¿è¡Œï¼Œ**æˆåŠŸè¿è¡Œå**ä¼šè·³å‡º**yolo5æ–‡ä»¶å¤¹**

![](/assets/pics/yolo5.png)

å°†å‹ç¼©æ–‡ä»¶æ‹–è¿›å·¦ä¾§åŒºåŸŸï¼Œ**ç­‰å¾…é»„è‰²å°åœˆåŠ è½½å®Œ**

![](/assets/pics/yolo6.png)

ç‚¹å‡»`+ä»£ç `ï¼Œåœ¨å‡ºç°çš„æ–°å•å…ƒæ ¼ä¸­è¾“å…¥`!unzip -q ../traindata.zip -d ../`

(`traindata.zip`æ˜¯æ–‡ä»¶å¤¹åå­—æ ¹æ®ä½ å‘½åæƒ…å†µæ¥)ï¼Œç‚¹å‡»è¿è¡Œã€‚

**æ³¨æ„**ï¼šå¯èƒ½ä¼šå‡ºç°`cannot find traindata.zip`ä¹‹ç±»çš„é—®é¢˜æŠ¥é”™ï¼Œæ²¡æœ‰ä»€ä¹ˆå¾ˆå¥½çš„è§£å†³åŠæ³•åªèƒ½åˆ·æ–°å·¦ä¾§æ–‡ä»¶é¡µé¢æˆ–è€…ä¸»é¡µé¢ã€‚

![](/assets/pics/vscode/yolo9.png)

![](/assets/pics/vscode/yolo8.png)

æˆåŠŸè¿è¡Œåä¼šè·³å‡º`traindata`çš„æ–‡ä»¶å¤¹ï¼Œ**ä»£è¡¨è¿è¡Œè§£å‹æˆåŠŸ**

ç‚¹å‡»`yolo5`æ–‡ä»¶å¤¹ï¼Œæ‰¾åˆ°`data`æ–‡ä»¶å¤¹å¹¶ä¸Šä¼ `number.yaml`æ–‡ä»¶ã€‚æ‰¾åˆ°`train.py`å°†`-data`åçš„`coco128.yaml`æ”¹ä¸º`number.yaml`ã€‚

![](/assets/pics/vscode/yolo11.png)

**batchs:** æ¯è½®æŠ•å–‚çš„å›¾ç‰‡æ•°  
**epochs:** æ€»è®­ç»ƒæ•°  
**weights:** åŸºäºè®­ç»ƒçš„æ¨¡å‹ï¼šyolo5sã€yolov5mã€yolo5lã€yolov5xï¼Œè®­ç»ƒæ¨¡å‹è¶Šå¤§é€Ÿåº¦è¶Šæ…¢æ•ˆæœè¶Šå¥½ã€‚

ç‚¹å‡»è¿è¡Œï¼Œç­‰å¾…æ¨¡å‹è®­ç»ƒå®Œæˆã€‚

![](/assets/pics/yolo13.png)

æ©˜çº¢è‰²åŒºåŸŸä¸ºè®­ç»ƒæˆåŠŸç‡ï¼Œç†è®ºä¸Šæ˜¯é€æ¸è¶‹äº1çš„ã€‚é»„è‰²åŒºåŸŸæ˜¯ä¸¤ä¸ªæƒé‡æ–‡ä»¶ï¼Œé€‰æ‹©ä¸€ä¸ªå¤åˆ¶å³å¯ã€‚

### ç¬¬å››æ­¥

æ‰¾åˆ°`detect.py`ï¼Œå°†`--weights`å`yolov5s.pt`æ”¹ä¸ºè‡ªå·±è®­ç»ƒçš„æ–‡ä»¶åœ°å€ã€‚

`ex:runs/train/exp/weights/best.pt`

å°†æ¬²è¯†åˆ«çš„å›¾ç‰‡æˆ–è§†é¢‘ä¸Šä¼ è‡³`data/images`æ–‡ä»¶å¤¹ä¸‹ï¼Œ`--source`åæ”¹ç§°å›¾ç‰‡/è§†é¢‘çš„åå­—å³å¯ï¼Œç‚¹å‡»è¿è¡Œã€‚

![](/assets/pics/yolo14.jpg)
